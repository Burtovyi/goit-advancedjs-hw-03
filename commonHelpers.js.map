{"version":3,"file":"commonHelpers.js","sources":["../src/сomponents/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\nconst URL_BREEDS = 'https://api.thecatapi.com/v1';\nconst END_POINTS = '/breeds';\nconst END_POINT_ID = '/images/search?breed_ids=';\nconst API_KEY =\n  'live_g4r6jksHfEm50QU96rzqaaZ5ngCZFvmDRSqffOEuZ5LU7zJgOlfoyktmWogxNBtJ';\naxios.defaults.headers.common['x-api-key'] = API_KEY;\n\nexport function fetchBreeds() {\n  return axios.get(`${URL_BREEDS}${END_POINTS}`);\n}\n\nexport function fetchCatByBreed(breedId) {\n  axios.defaults.headers.common['x-api-key'] = API_KEY;\n  return axios.get(`${URL_BREEDS}${END_POINT_ID}${breedId}`);\n}\n\n// https://api.thecatapi.com/v1/images/search?breed_ids=beng\n","import { fetchBreeds, fetchCatByBreed } from './сomponents/cat-api';\nimport iziToast from 'izitoast';\n\nconst refs = {\n  select: document.querySelector('.breed-select'),\n  cat_info: document.querySelector('.cat-info'),\n  loader: document.querySelector('.loader'),\n  optionPlug: document.querySelector('.plug'),\n};\n\nfetchBreeds()\n  .then(data => {\n    toggleLoader(true);\n    refs.select.insertAdjacentHTML('beforeend', createOption(data.data));\n    refs.select.style.display = 'block';\n  })\n  .catch(function (error) {\n    console.log(error);\n    iziToast.error({\n      title: 'Error',\n      message: 'Servi is temporarily out of service.',\n    });\n  })\n  .finally(() => {\n    toggleLoader(false);\n  });\n\nfunction createOption(arr) {\n  return arr\n    .map(({ id, name }) => `<option value=\"${id}\">${name}</option>`)\n    .join('');\n}\n\nrefs.select.addEventListener('change', e => {\n  toggleLoader(true);\n  refs.optionPlug.disabled = true;\n  fetchCatByBreed(e.currentTarget.value)\n    .then(data => {\n      const img = data.data[0].url;\n      const nameCat = data.data[0].breeds[0].name;\n      const description = data.data[0].breeds[0].description;\n      const temperament = data.data[0].breeds[0].temperament;\n\n      refs.cat_info.innerHTML = `<img src=\"${img}\" alt=\"${nameCat}\" />\n      <div class=\"cat_characteristic\">\n        <h1>${nameCat}</h1>\n        <p>${description}</p>\n        <p><b>Temperament:</b>${temperament}</p>\n      </div>\n`;\n    })\n    .catch(function (error) {\n      refs.cat_info.innerHTML = '';\n      iziToast.error({\n        title: 'Error',\n        message: 'Oops! Something went wrong! Try reloading the page!',\n      });\n    })\n    .finally(() => {\n      toggleLoader(false);\n    });\n});\n\nfunction toggleLoader(isVisible) {\n  if (isVisible) {\n    refs.loader.classList.remove('loader-hidden');\n  } else {\n    refs.loader.classList.add('loader-hidden');\n  }\n}\n"],"names":["URL_BREEDS","END_POINTS","END_POINT_ID","API_KEY","axios","fetchBreeds","fetchCatByBreed","breedId","refs","data","toggleLoader","createOption","error","iziToast","arr","id","name","e","img","nameCat","description","temperament","isVisible"],"mappings":"6vBACA,MAAMA,EAAa,+BACbC,EAAa,UACbC,EAAe,4BACfC,EACJ,wEACFC,EAAM,SAAS,QAAQ,OAAO,aAAeD,EAEtC,SAASE,GAAc,CAC5B,OAAOD,EAAM,IAAI,GAAGJ,IAAaC,GAAY,CAC/C,CAEO,SAASK,EAAgBC,EAAS,CACvC,OAAAH,EAAM,SAAS,QAAQ,OAAO,aAAeD,EACtCC,EAAM,IAAI,GAAGJ,IAAaE,IAAeK,GAAS,CAC3D,CCZA,MAAMC,EAAO,CACX,OAAQ,SAAS,cAAc,eAAe,EAC9C,SAAU,SAAS,cAAc,WAAW,EAC5C,OAAQ,SAAS,cAAc,SAAS,EACxC,WAAY,SAAS,cAAc,OAAO,CAC5C,EAEAH,EAAa,EACV,KAAKI,GAAQ,CACZC,EAAa,EAAI,EACjBF,EAAK,OAAO,mBAAmB,YAAaG,EAAaF,EAAK,IAAI,CAAC,EACnED,EAAK,OAAO,MAAM,QAAU,OAChC,CAAG,EACA,MAAM,SAAUI,EAAO,CACtB,QAAQ,IAAIA,CAAK,EACjBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,sCACf,CAAK,CACL,CAAG,EACA,QAAQ,IAAM,CACbH,EAAa,EAAK,CACtB,CAAG,EAEH,SAASC,EAAaG,EAAK,CACzB,OAAOA,EACJ,IAAI,CAAC,CAAE,GAAAC,EAAI,KAAAC,KAAW,kBAAkBD,MAAOC,YAAe,EAC9D,KAAK,EAAE,CACZ,CAEAR,EAAK,OAAO,iBAAiB,SAAUS,GAAK,CAC1CP,EAAa,EAAI,EACjBF,EAAK,WAAW,SAAW,GAC3BF,EAAgBW,EAAE,cAAc,KAAK,EAClC,KAAKR,GAAQ,CACZ,MAAMS,EAAMT,EAAK,KAAK,GAAG,IACnBU,EAAUV,EAAK,KAAK,GAAG,OAAO,GAAG,KACjCW,EAAcX,EAAK,KAAK,GAAG,OAAO,GAAG,YACrCY,EAAcZ,EAAK,KAAK,GAAG,OAAO,GAAG,YAE3CD,EAAK,SAAS,UAAY,aAAaU,WAAaC;AAAA;AAAA,cAE5CA;AAAA,aACDC;AAAA,gCACmBC;AAAA;AAAA,CAGhC,CAAK,EACA,MAAM,SAAUT,EAAO,CACtBJ,EAAK,SAAS,UAAY,GAC1BK,EAAS,MAAM,CACb,MAAO,QACP,QAAS,qDACjB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbH,EAAa,EAAK,CACxB,CAAK,CACL,CAAC,EAED,SAASA,EAAaY,EAAW,CAC3BA,EACFd,EAAK,OAAO,UAAU,OAAO,eAAe,EAE5CA,EAAK,OAAO,UAAU,IAAI,eAAe,CAE7C"}