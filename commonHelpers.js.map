{"version":3,"file":"commonHelpers.js","sources":["../src/сomponents/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\nconst URL_BREEDS = 'https://api.thecatapi.com/v1';\nconst END_POINTS = '/breeds';\nconst END_POINT_ID = '/images/';\nconst API_KEY =\n  'live_g4r6jksHfEm50QU96rzqaaZ5ngCZFvmDRSqffOEuZ5LU7zJgOlfoyktmWogxNBtJ';\naxios.defaults.headers.common['x-api-key'] = API_KEY;\n\nexport function fetchBreeds() {\n  return axios.get(`${URL_BREEDS}${END_POINTS}`);\n}\n\nexport function fetchCatByBreed(breedId) {\n  return axios.get(`${URL_BREEDS}${END_POINT_ID}${breedId}`);\n}\n\n// https://api.thecatapi.com/v1/images/0XYvRd7oD\n","import { fetchBreeds, fetchCatByBreed } from './сomponents/cat-api';\n\nconst refs = {\n  select: document.querySelector('.breed-select'),\n  cat_info: document.querySelector('.cat-info'),\n};\n\nfetchBreeds()\n  .then(data => {\n    refs.select.insertAdjacentHTML('afterbegin', createOption(data.data));\n  })\n  .catch(function (error) {\n    console.log(error);\n  });\n\nfunction createOption(arr) {\n  return arr\n    .map(\n      ({ reference_image_id, name }) =>\n        `<option value=\"${reference_image_id}\">${name}</option>`\n    )\n    .join('');\n}\n\n// console.log(fetchCatByBreed);\n\nrefs.select.addEventListener('change', e => {\n  fetchCatByBreed(e.currentTarget.value).then(data => {\n    const img = data.data.url;\n    const nameCat = data.data.breeds[0].name;\n    const description = data.data.breeds[0].description;\n    const temperament = data.data.breeds[0].temperament;\n\n    refs.cat_info.innerHTML = `<img src=\"${img}\" alt=\"${nameCat}\" />\n    <h1>${nameCat}</h1>\n    <h2>${description}</h2>\n    <h2>${temperament}</h2>`;\n  });\n});\n\n// event => {\n//   return event.currentTarget.value;\n// };\n// console.log(refs.select.currentTarget.value);\n// console.log(refs.select);\n\n// function dataSelect() {\n//   fetch(`${URL_BREEDS}?api_key=${API_KEY}`)\n//     .then(response => {\n//       if (!response.ok) {\n//         throw new Error(response.status);\n//       }\n//       return response.json();\n//     })\n//     .then(data => {\n//       return data\n//         .map(optionMarcup => {\n//           `<option value=\"${optionMarcup.id}\">${optionMarcup.name}</option>`;\n//         })\n//         .join('');\n//     })\n//     .catch(error => {\n//       console.log(error);\n//     });\n// }\n\n// refs.select.insertAdjacentHTML('beforeend', dataSelect);\n"],"names":["URL_BREEDS","END_POINTS","END_POINT_ID","API_KEY","axios","fetchBreeds","fetchCatByBreed","breedId","refs","data","createOption","error","arr","reference_image_id","name","e","img","nameCat","description","temperament"],"mappings":"ivBACA,MAAMA,EAAa,+BACbC,EAAa,UACbC,EAAe,WACfC,EACJ,wEACFC,EAAM,SAAS,QAAQ,OAAO,aAAeD,EAEtC,SAASE,GAAc,CAC5B,OAAOD,EAAM,IAAI,GAAGJ,IAAaC,GAAY,CAC/C,CAEO,SAASK,EAAgBC,EAAS,CACvC,OAAOH,EAAM,IAAI,GAAGJ,IAAaE,IAAeK,GAAS,CAC3D,CCZA,MAAMC,EAAO,CACX,OAAQ,SAAS,cAAc,eAAe,EAC9C,SAAU,SAAS,cAAc,WAAW,CAC9C,EAEAH,EAAa,EACV,KAAKI,GAAQ,CACZD,EAAK,OAAO,mBAAmB,aAAcE,EAAaD,EAAK,IAAI,CAAC,CACxE,CAAG,EACA,MAAM,SAAUE,EAAO,CACtB,QAAQ,IAAIA,CAAK,CACrB,CAAG,EAEH,SAASD,EAAaE,EAAK,CACzB,OAAOA,EACJ,IACC,CAAC,CAAE,mBAAAC,EAAoB,KAAAC,CAAM,IAC3B,kBAAkBD,MAAuBC,YAC5C,EACA,KAAK,EAAE,CACZ,CAIAN,EAAK,OAAO,iBAAiB,SAAUO,GAAK,CAC1CT,EAAgBS,EAAE,cAAc,KAAK,EAAE,KAAKN,GAAQ,CAClD,MAAMO,EAAMP,EAAK,KAAK,IAChBQ,EAAUR,EAAK,KAAK,OAAO,GAAG,KAC9BS,EAAcT,EAAK,KAAK,OAAO,GAAG,YAClCU,EAAcV,EAAK,KAAK,OAAO,GAAG,YAExCD,EAAK,SAAS,UAAY,aAAaQ,WAAaC;AAAA,UAC9CA;AAAA,UACAC;AAAA,UACAC,QACV,CAAG,CACH,CAAC"}