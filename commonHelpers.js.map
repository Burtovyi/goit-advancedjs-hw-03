{"version":3,"file":"commonHelpers.js","sources":["../src/сomponents/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\nconst URL_BREEDS = 'https://api.thecatapi.com/v1';\nconst END_POINTS = '/breeds';\nconst END_POINT_ID = '/images/';\nconst API_KEY =\n  'live_g4r6jksHfEm50QU96rzqaaZ5ngCZFvmDRSqffOEuZ5LU7zJgOlfoyktmWogxNBtJ';\naxios.defaults.headers.common['x-api-key'] = API_KEY;\n\nexport function fetchBreeds() {\n  return axios.get(`${URL_BREEDS}${END_POINTS}`);\n}\n\nexport function fetchCatByBreed(breedId) {\n  return axios.get(`${URL_BREEDS}${END_POINT_ID}${breedId}`);\n}\n","import { fetchBreeds, fetchCatByBreed } from './сomponents/cat-api';\nimport iziToast from 'izitoast';\n\nconst refs = {\n  select: document.querySelector('.breed-select'),\n  cat_info: document.querySelector('.cat-info'),\n  loader: document.querySelector('.loader'),\n  optionPlug: document.querySelector('.plug'),\n};\n\nrefs.loader.classList.add('loader-hidden');\n\nfetchBreeds()\n  .then(data => {\n    toggleLoader(true);\n    refs.select.insertAdjacentHTML('beforeend', createOption(data.data));\n  })\n  .catch(function (error) {\n    iziToast.error({\n      title: 'Error',\n      message: `${error}`,\n    });\n  })\n  .finally(() => {\n    toggleLoader(false);\n  });\n\nfunction createOption(arr) {\n  return arr\n    .map(\n      ({ reference_image_id, name }) =>\n        `<option value=\"${reference_image_id}\">${name}</option>`\n    )\n    .join('');\n}\n\nrefs.select.addEventListener('change', e => {\n  toggleLoader(true);\n  refs.optionPlug.disabled = true;\n  fetchCatByBreed(e.currentTarget.value)\n    .then(data => {\n      const img = data.data.url;\n      const nameCat = data.data.breeds[0].name;\n      const description = data.data.breeds[0].description;\n      const temperament = data.data.breeds[0].temperament;\n\n      refs.cat_info.innerHTML = `<img src=\"${img}\" alt=\"${nameCat}\" />\n      <div class=\"cat_characteristic\">\n        <h1>${nameCat}</h1>\n        <p>${description}</p>\n        <p><b>Temperament:</b>${temperament}</p>\n      </div>\n`;\n    })\n    .catch(function (error) {\n      iziToast.error({\n        title: 'Error',\n        message: `${error}`,\n      });\n    })\n    .finally(() => {\n      toggleLoader(false);\n    });\n});\n\nfunction toggleLoader(isVisible) {\n  if (isVisible) {\n    refs.loader.classList.remove('loader-hidden');\n  } else {\n    refs.loader.classList.add('loader-hidden');\n  }\n}\n"],"names":["URL_BREEDS","END_POINTS","END_POINT_ID","API_KEY","axios","fetchBreeds","fetchCatByBreed","breedId","refs","data","toggleLoader","createOption","error","iziToast","arr","reference_image_id","name","e","img","nameCat","description","temperament","isVisible"],"mappings":"6vBACA,MAAMA,EAAa,+BACbC,EAAa,UACbC,EAAe,WACfC,EACJ,wEACFC,EAAM,SAAS,QAAQ,OAAO,aAAeD,EAEtC,SAASE,GAAc,CAC5B,OAAOD,EAAM,IAAI,GAAGJ,IAAaC,GAAY,CAC/C,CAEO,SAASK,EAAgBC,EAAS,CACvC,OAAOH,EAAM,IAAI,GAAGJ,IAAaE,IAAeK,GAAS,CAC3D,CCXA,MAAMC,EAAO,CACX,OAAQ,SAAS,cAAc,eAAe,EAC9C,SAAU,SAAS,cAAc,WAAW,EAC5C,OAAQ,SAAS,cAAc,SAAS,EACxC,WAAY,SAAS,cAAc,OAAO,CAC5C,EAEAA,EAAK,OAAO,UAAU,IAAI,eAAe,EAEzCH,EAAa,EACV,KAAKI,GAAQ,CACZC,EAAa,EAAI,EACjBF,EAAK,OAAO,mBAAmB,YAAaG,EAAaF,EAAK,IAAI,CAAC,CACvE,CAAG,EACA,MAAM,SAAUG,EAAO,CACtBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,GAAGD,GAClB,CAAK,CACL,CAAG,EACA,QAAQ,IAAM,CACbF,EAAa,EAAK,CACtB,CAAG,EAEH,SAASC,EAAaG,EAAK,CACzB,OAAOA,EACJ,IACC,CAAC,CAAE,mBAAAC,EAAoB,KAAAC,CAAM,IAC3B,kBAAkBD,MAAuBC,YAC5C,EACA,KAAK,EAAE,CACZ,CAEAR,EAAK,OAAO,iBAAiB,SAAUS,GAAK,CAC1CP,EAAa,EAAI,EACjBF,EAAK,WAAW,SAAW,GAC3BF,EAAgBW,EAAE,cAAc,KAAK,EAClC,KAAKR,GAAQ,CACZ,MAAMS,EAAMT,EAAK,KAAK,IAChBU,EAAUV,EAAK,KAAK,OAAO,GAAG,KAC9BW,EAAcX,EAAK,KAAK,OAAO,GAAG,YAClCY,EAAcZ,EAAK,KAAK,OAAO,GAAG,YAExCD,EAAK,SAAS,UAAY,aAAaU,WAAaC;AAAA;AAAA,cAE5CA;AAAA,aACDC;AAAA,gCACmBC;AAAA;AAAA,CAGhC,CAAK,EACA,MAAM,SAAUT,EAAO,CACtBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,GAAGD,GACpB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbF,EAAa,EAAK,CACxB,CAAK,CACL,CAAC,EAED,SAASA,EAAaY,EAAW,CAC3BA,EACFd,EAAK,OAAO,UAAU,OAAO,eAAe,EAE5CA,EAAK,OAAO,UAAU,IAAI,eAAe,CAE7C"}